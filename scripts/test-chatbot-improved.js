import { SmartChatbot } from '../src/lib/smart-response.js'

const chatbot = new SmartChatbot()

const testQueries = [
  'Anti-Skip Video Player р╕Др╕╖р╕нр╕нр╕░р╣Др╕г',
  'р╕зр╕┤р╕Фр╕╡р╣Вр╕нр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕Вр╣Йр╕▓р╕бр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕г', 
  'SCORM р╕Др╕╖р╕нр╕нр╕░р╣Др╕г',
  'р╕гр╕▓р╕Др╕▓р╕лр╕ер╕▒р╕Бр╕кр╕╣р╕Хр╕гр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И',
  'р╕бр╕╡р╣Гр╕Ър╕Ыр╕гр╕░р╕Бр╕▓р╕ир╕Щр╕╡р╕вр╕Ър╕▒р╕Хр╕гр╣Др╕лр╕б',
  'PWA р╕Др╕╖р╕нр╕нр╕░р╣Др╕г',
  'р╕гр╕░р╕Ър╕Ъ AI р╕Чр╕│р╕нр╕░р╣Др╕гр╣Др╕Фр╣Йр╕Ър╣Йр╕▓р╕З',
  'р╣Ар╕гр╕╡р╕вр╕Щр╕нр╕нр╕Щр╣Др╕ер╕Щр╣Мр╣Др╕Фр╣Йр╕Хр╕ер╕нр╕Фр╣Ар╕зр╕ер╕▓р╣Др╕лр╕б',
  'р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ',
  'SkillNexus р╕Др╕╖р╕нр╕нр╕░р╣Др╕г',
  // р╕Чр╕Фр╕кр╕нр╕Ър╕Др╕│р╕Цр╕▓р╕бр╕Чр╕╡р╣Ир╕Др╕ер╣Йр╕▓р╕вр╕Бр╕▒р╕Щ
  'anti skip р╕Др╕╖р╕нр╕нр╕░р╣Др╕г',
  'р╕гр╕▓р╕Др╕▓р╕Др╕нр╕гр╣Мр╕кр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И',
  'р╕бр╕╡р╣Ар╕Лр╕нр╕гр╣Мр╣Др╕лр╕б',
  'scorm р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Др╕лр╕б',
  'pwa р╕Чр╕│р╕нр╕░р╣Др╕гр╣Др╕Фр╣Й',
  'ai р╣Бр╕Щр╕░р╕Щр╕│р╕нр╕░р╣Др╕гр╣Др╕Фр╣Йр╕Ър╣Йр╕▓р╕З'
]

async function testChatbot() {
  console.log('ЁЯдЦ р╕Чр╕Фр╕кр╕нр╕Ъ Chatbot р╕Чр╕╡р╣Ир╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Бр╕ер╣Йр╕з\n')
  
  for (const query of testQueries) {
    console.log(`тЭУ р╕Др╕│р╕Цр╕▓р╕б: "${query}"`)
    
    try {
      const response = await chatbot.generateResponse(query)
      console.log(`тЬЕ р╕Др╕│р╕Хр╕нр╕Ъ: ${response.substring(0, 100)}${response.length > 100 ? '...' : ''}`)
      
      // р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Хр╕нр╕Ър╕Цр╕╣р╕Бр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
      if (response.includes('р╣Др╕бр╣Ир╕Юр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З') || response.includes('р╣Др╕бр╣Ир╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Др╕│р╕Цр╕▓р╕б')) {
        console.log('тЭМ р╣Др╕бр╣Ир╕Юр╕Ър╕Др╕│р╕Хр╕нр╕Ър╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б')
      } else {
        console.log('тЬЕ р╕Юр╕Ър╕Др╕│р╕Хр╕нр╕Ър╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б')
      }
      
    } catch (error) {
      console.log(`тЭМ р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф: ${error.message}`)
    }
    
    console.log('---')
  }
  
  console.log('ЁЯОЙ р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ')
}

testChatbot().catch(console.error)