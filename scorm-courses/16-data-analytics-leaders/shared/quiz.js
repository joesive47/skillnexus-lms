var quizData=[];var currentAnswers={};var quizSubmitted=false;function loadQuiz(questions){quizData=questions;renderQuiz()}function renderQuiz(){var container=document.getElementById('quiz-container');if(!container)return;var html='';quizData.forEach(function(q,idx){html+='<div class="question" id="q'+idx+'">';html+='<h3>'+q.question+'</h3>';html+='<ul class="options">';q.options.forEach(function(opt,optIdx){html+='<li onclick="selectAnswer('+idx+','+optIdx+')">'+opt+'</li>'});html+='</ul></div>'});container.innerHTML=html}function selectAnswer(qIdx,optIdx){if(quizSubmitted)return;currentAnswers[qIdx]=optIdx;var question=document.getElementById('q'+qIdx);var options=question.querySelectorAll('.options li');options.forEach(function(opt,idx){opt.classList.remove('selected');if(idx===optIdx){opt.classList.add('selected')}});updateProgress()}function updateProgress(){var answered=Object.keys(currentAnswers).length;var total=quizData.length;var percent=(answered/total)*100;var progressBar=document.querySelector('.progress-fill');if(progressBar){progressBar.style.width=percent+'%'}var submitBtn=document.getElementById('submit-btn');if(submitBtn&&answered===total){submitBtn.disabled=false;submitBtn.style.opacity='1'}}function submitQuiz(){if(quizSubmitted)return;quizSubmitted=true;var correct=0;quizData.forEach(function(q,idx){var userAnswer=currentAnswers[idx];var question=document.getElementById('q'+idx);var options=question.querySelectorAll('.options li');options.forEach(function(opt,optIdx){if(optIdx===q.correct){opt.classList.add('correct')}if(optIdx===userAnswer&&userAnswer!==q.correct){opt.classList.add('incorrect')}});if(userAnswer===q.correct){correct++}});var score=Math.round((correct/quizData.length)*100);showResults(score,correct,quizData.length);setScore(score);setComplete()}function showResults(score,correct,total){var resultDiv=document.getElementById('result');if(!resultDiv)return;var passed=score>=80;var html='<div class="result-box '+(passed?'pass':'fail')+'">';html+='<h2>'+(passed?'üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!':'üìö ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á')+'</h2>';html+='<div class="score">'+score+'%</div>';html+='<p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å '+correct+' ‡∏à‡∏≤‡∏Å '+total+' ‡∏Ç‡πâ‡∏≠</p>';html+='<p>'+(passed?'‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß!':'‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 80% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô')+'</p>';html+='</div>';resultDiv.innerHTML=html}
