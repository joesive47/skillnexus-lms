var API=null;function findAPI(win){var attempts=0;while(win&&attempts<7){if(win.API_1484_11){return win.API_1484_11}if(win.parent&&win.parent!=win){attempts++;win=win.parent}else{attempts=7}}return null}function getAPI(){if(API==null){API=findAPI(window)}return API}function initSCORM(){var api=getAPI();if(api){api.Initialize("")}return api!=null}function setSCORMValue(key,value){var api=getAPI();if(api){api.SetValue(key,value);api.Commit("")}}function getSCORMValue(key){var api=getAPI();if(api){return api.GetValue(key)}return""}function setComplete(){setSCORMValue("cmi.completion_status","completed")}function setScore(score){setSCORMValue("cmi.score.raw",score);setSCORMValue("cmi.score.min","0");setSCORMValue("cmi.score.max","100");if(score>=80){setSCORMValue("cmi.success_status","passed")}else{setSCORMValue("cmi.success_status","failed")}}function exitSCORM(){var api=getAPI();if(api){api.Terminate("")}}window.addEventListener("load",function(){initSCORM()});window.addEventListener("beforeunload",function(){exitSCORM()});
