// Add these models to your existing schema.prisma

model ApiKey {
  id          String    @id @default(cuid())
  key         String    @unique
  name        String
  userId      String
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  isActive    Boolean   @default(true)
  expiresAt   DateTime?
  lastUsedAt  DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model ApiLog {
  id           String   @id @default(cuid())
  method       String
  path         String
  statusCode   Int
  responseTime Int
  userId       String?
  apiKeyId     String?
  ip           String?
  createdAt    DateTime @default(now())
}

model Webhook {
  id               String    @id @default(cuid())
  url              String
  events           String[]
  secret           String?
  userId           String
  user             User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  isActive         Boolean   @default(true)
  lastTriggeredAt  DateTime?
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt
}

model Organization {
  id             String   @id @default(cuid())
  name           String
  domain         String?  @unique
  logo           String?
  primaryColor   String   @default("#3b82f6")
  secondaryColor String   @default("#8b5cf6")
  favicon        String?
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}
